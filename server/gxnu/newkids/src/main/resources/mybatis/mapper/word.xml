<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="gxnu.newkids.dao.WordDao">


    <resultMap id="BasewordMap" type="gxnu.newkids.entity.Baseword">
        <result column="bw_id" property="bw_id"/>
        <result column="word" property="word"/>
        <result column="bw_diff" property="bw_diff"/>
        <result column="bw_freq" property="bw_freq"/>
        <result column="bw_count" property="bw_count"/>
        <result column="bw_ack_rate" property="bw_ack_rate"/>
        <result column="bw_score" property="bw_score"/>
    </resultMap>


    <select id="getWordGroup"  resultMap="BasewordMap">
SELECT
	bw.*
FROM
	t_basewords bw,
	t_bw_wb bb
WHERE
	bb.wb_id = #{wb_id}
AND bb.bw_id = bw.bw_id
AND bw.bw_diff > #{bw_diff}
AND bw.bw_id NOT IN (SELECT bw_id FROM t_word_logs WHERE open_id = #{open_id})
LIMIT 0,#{size}
    </select>

    <select id="getHisWordGroup"  resultMap="BasewordMap">


    </select>

    <select id="getWordcibaGroup"  resultType="java.util.Map">
SELECT
	bw.*,w.*
FROM
	t_basewords bw,
	t_bw_wb bb,
	 t_words w
WHERE
	bb.wb_id = #{wb_id}
AND bb.bw_id = bw.bw_id
AND bw.bw_diff > #{bw_diff}
AND bw.bw_id NOT IN (SELECT bw_id FROM t_word_logs WHERE open_id = #{open_id})
AND w.word = bw.word
LIMIT 0,#{size}
    </select>


    <select id="getWordciba" parameterType="String"  resultType="java.util.Map">
SELECT
	w.*,m.*,p.*
FROM
  t_words w,t_means m,t_pos p
WHERE
w.word = #{word}
AND m.w_id = w.w_id
AND p.pos_id = m.pos_id
    </select>
</mapper>